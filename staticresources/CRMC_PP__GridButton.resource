!function(){var e,t,n;!function(r){var o,i,a,s,l={},u={},c={},d={},f=Object.prototype.hasOwnProperty,h=[].slice,p=/\.js$/;function y(e,t){return f.call(e,t)}function g(e,t){var r,n,o,i,a,s,l,u,d,f,h,y=t&&t.split("/"),g=c.map,m=g&&g["*"]||{};if(e&&"."===e.charAt(0))if(t){for(y=y.slice(0,y.length-1),a=(e=e.split("/")).length-1,c.nodeIdCompat&&p.test(e[a])&&(e[a]=e[a].replace(p,"")),e=y.concat(e),d=0;d<e.length;d+=1)if("."===(h=e[d]))e.splice(d,1),d-=1;else if(".."===h){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((y||m)&&g){for(d=(r=e.split("/")).length;d>0;d-=1){if(n=r.slice(0,d).join("/"),y)for(f=y.length;f>0;f-=1)if((o=g[y.slice(0,f).join("/")])&&(o=o[n])){i=o,s=d;break}if(i)break;!l&&m&&m[n]&&(l=m[n],u=d)}!i&&l&&(i=l,s=u),i&&(r.splice(0,s,i),e=r.join("/"))}return e}function m(e,t){return function(){return i.apply(r,h.call(arguments,0).concat([e,t]))}}function v(e){return function(t){l[e]=t}}function D(e){if(y(u,e)){var t=u[e];delete u[e],d[e]=!0,o.apply(r,t)}if(!y(l,e)&&!y(d,e))throw new Error("No "+e);return l[e]}function b(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}a=function(e,t){var r,n=b(e),o=n[0];return e=n[1],o&&(r=D(o=g(o,t))),o?e=r&&r.normalize?r.normalize(e,function(e){return function(t){return g(t,e)}}(t)):g(e,t):(o=(n=b(e=g(e,t)))[0],e=n[1],o&&(r=D(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:r}},s={require:function(e){return m(e)},exports:function(e){var t=l[e];return void 0!==t?t:l[e]={}},module:function(e){return{id:e,uri:"",exports:l[e],config:function(e){return function(){return c&&c.config&&c.config[e]||{}}}(e)}}},o=function(e,t,n,o){var i,c,f,h,p,g,b=[],N=typeof n;if(o=o||e,"undefined"===N||"function"===N){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if("require"===(c=(h=a(t[p],o)).f))b[p]=s.require(e);else if("exports"===c)b[p]=s.exports(e),g=!0;else if("module"===c)i=b[p]=s.module(e);else if(y(l,c)||y(u,c)||y(d,c))b[p]=D(c);else{if(!h.p)throw new Error(e+" missing "+c);h.p.load(h.n,m(o,!0),v(c),{}),b[p]=l[c]}f=n?n.apply(l[e],b):void 0,e&&(i&&i.exports!==r&&i.exports!==l[e]?l[e]=i.exports:f===r&&g||(l[e]=f))}else e&&(l[e]=n)},e=t=i=function(e,t,n,l,u){if("string"==typeof e)return s[e]?s[e](t):D(a(e,t).f);if(!e.splice){if((c=e).deps&&i(c.deps,c.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=l,l=u),l?o(r,e,t,n):setTimeout(function(){o(r,e,t,n)},4),i},i.config=function(e){return i(e)},e._defined=l,(n=function(e,t,r){t.splice||(r=t,t=[]),y(l,e)||y(u,e)||(u[e]=[e,t,r])}).amd={jQuery:!0}}(),n("../Util/almond",function(){}),n("GridConstantsProd",[],function(){return{API_VERSION:"48.0",API_VERSION_NUM:48,namespace:"CRMC_PP",VF_PAGE_NAME:"crmc_grid",VF_APEX_CONTROLLER:"AGComponentController",RELATED_LIST_OFFSET_PX:0,SFDC_HEADER_PX:225,ACTIONGRID_EXPLORER_PAGE_NAME:"ActionGrid_Explorer",UNIQUE_ID:0,viewContext:{pageLayout:"Page Layout",vfPage:"Visualforce Page",explorer:"Explorer"},viewPrivacy:{private:"Private",public:"Public",publicReadOnly:"Public Read-Only"},localStorageKeys:{getUserInfo:"getUserInfo",SFRestCache:"SFRestCache"},ignoreRequiredFields:["CreatedDate","CreatedById","LastModifiedById","LastModifiedDate"],operators:{string:{contains:polyglot.t("Filters.Contains"),doesnotcontain:polyglot.t("Filters.DoesNotContain"),eq:polyglot.t("Filters.IsEqualTo"),neq:polyglot.t("Filters.IsNotEqualTo"),startswith:polyglot.t("Filters.StartsWith"),endswith:polyglot.t("Filters.EndsWith"),includes:polyglot.t("Filters.IncludesCommaDelimited"),excludes:polyglot.t("Filters.ExcludesCommaDelimited"),isnull:polyglot.t("Filters.IsEmpty"),isnotnull:polyglot.t("Filters.IsNotEmpty")},number:{gte:polyglot.t("Filters.IsGreaterOrEqualTo"),gt:polyglot.t("Filters.IsGreaterThan"),lte:polyglot.t("Filters.IsLessOrEqualTo"),lt:polyglot.t("Filters.IsLessThan"),eq:polyglot.t("Filters.IsEqualTo"),neq:polyglot.t("Filters.IsNotEqualTo"),isnull:polyglot.t("Filters.IsEmpty"),isnotnull:polyglot.t("Filters.IsNotEmpty")},percent:{gte:polyglot.t("Filters.IsGreaterOrEqualTo"),gt:polyglot.t("Filters.IsGreaterThan"),lte:polyglot.t("Filters.IsLessOrEqualTo"),lt:polyglot.t("Filters.IsLessThan"),eq:polyglot.t("Filters.IsEqualTo"),neq:polyglot.t("Filters.IsNotEqualTo"),isnull:polyglot.t("Filters.IsEmpty"),isnotnull:polyglot.t("Filters.IsNotEmpty")},date:{eq:polyglot.t("Filters.IsEqualTo"),neq:polyglot.t("Filters.IsNotEqualTo"),gte:polyglot.t("Filters.IsGreaterOrEqualTo"),gt:polyglot.t("Filters.IsGreaterThan"),lte:polyglot.t("Filters.IsLessOrEqualTo"),lt:polyglot.t("Filters.IsLessThan"),isnull:polyglot.t("Filters.IsEmpty"),isnotnull:polyglot.t("Filters.IsNotEmpty")},enums:{eq:polyglot.t("Filters.IsEqualTo"),neq:polyglot.t("Filters.IsNotEqualTo"),isnull:polyglot.t("Filters.IsEmpty"),isnotnull:polyglot.t("Filters.IsNotEmpty")},multipicklist:{eq:polyglot.t("Filters.IsEqualTo"),neq:polyglot.t("Filters.IsNotEqualTo"),includes:polyglot.t("Filters.IncludesCommaDelimited"),excludes:polyglot.t("Filters.ExcludesCommaDelimited")},Object:{contains:polyglot.t("Filters.Contains"),doesnotcontain:polyglot.t("Filters.DoesNotContain"),eq:polyglot.t("Filters.IsEqualTo"),neq:polyglot.t("Filters.IsNotEqualTo"),startswith:polyglot.t("Filters.StartsWith"),endswith:polyglot.t("Filters.EndsWith"),notexists:polyglot.t("Filters.DoesntExist"),exists:polyglot.t("Filters.Exists")}},dateParts:{DAY_IN_MONTH:polyglot.t("GridConstants.Day"),CALENDAR_MONTH:polyglot.t("GridConstants.Month"),CALENDAR_QUARTER:polyglot.t("GridConstants.Quarter"),CALENDAR_YEAR:polyglot.t("GridConstants.Year")},relativeDates:[{displayName:polyglot.t("RelativeDates.Blank"),dateLiteral:"NULL",period:"",requiresN:!1},{displayName:polyglot.t("RelativeDates.Yesterday"),dateLiteral:"YESTERDAY",period:"Day",requiresN:!1},{displayName:polyglot.t("RelativeDates.Today"),dateLiteral:"TODAY",period:"Day",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextDay"),dateLiteral:"TOMORROW",period:"Day",requiresN:!1},{displayName:polyglot.t("RelativeDates.Last90Days"),dateLiteral:"LAST_90_DAYS",period:"Day",requiresN:!1},{displayName:polyglot.t("RelativeDates.Next90Days"),dateLiteral:"NEXT_90_DAYS",period:"Day",requiresN:!1},{displayName:polyglot.t("RelativeDates.LastWeek"),dateLiteral:"LAST_WEEK",period:"Week",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextWeek"),dateLiteral:"NEXT_WEEK",period:"Week",requiresN:!1},{displayName:polyglot.t("RelativeDates.LastNDays"),formatText:polyglot.t("RelativeDates.LastNDaysFormat"),dateLiteral:"LAST_N_DAYS",period:"Day",requiresN:!0},{displayName:polyglot.t("RelativeDates.NextNDays"),formatText:polyglot.t("RelativeDates.NextNDaysFormat"),dateLiteral:"NEXT_N_DAYS",period:"Day",requiresN:!0},{displayName:polyglot.t("RelativeDates.NDaysAgo"),formatText:polyglot.t("RelativeDates.NDaysAgoFormat"),dateLiteral:"N_DAYS_AGO",period:"Day",requiresN:!0},{displayName:polyglot.t("RelativeDates.ThisWeek"),dateLiteral:"THIS_WEEK",period:"Week",requiresN:!1},{displayName:polyglot.t("RelativeDates.LastNWeeks"),formatText:polyglot.t("RelativeDates.LastNWeeksFormat"),dateLiteral:"LAST_N_WEEKS",period:"Week",requiresN:!0},{displayName:polyglot.t("RelativeDates.NextNWeeks"),formatText:polyglot.t("RelativeDates.NextNWeeksFormat"),dateLiteral:"NEXT_N_WEEKS",period:"Week",requiresN:!0},{displayName:polyglot.t("RelativeDates.NWeeksAgo"),formatText:polyglot.t("RelativeDates.NWeeksAgoFormat"),dateLiteral:"N_WEEKS_AGO",period:"Week",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastMonth"),dateLiteral:"LAST_MONTH",period:"Month",requiresN:!1},{displayName:polyglot.t("RelativeDates.ThisMonth"),dateLiteral:"THIS_MONTH",period:"Month",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextMonth"),dateLiteral:"NEXT_MONTH",period:"Month",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextNMonths"),formatText:polyglot.t("RelativeDates.NextNMonthsFormat"),dateLiteral:"NEXT_N_MONTHS",period:"Month",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastNMonths"),formatText:polyglot.t("RelativeDates.LastNMonthsFormat"),dateLiteral:"LAST_N_MONTHS",period:"Month",requiresN:!0},{displayName:polyglot.t("RelativeDates.NMonthsAgo"),formatText:polyglot.t("RelativeDates.NMonthsAgoFormat"),dateLiteral:"N_MONTHS_AGO",period:"Month",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastQuarter"),dateLiteral:"LAST_QUARTER",period:"Quarter",requiresN:!1},{displayName:polyglot.t("RelativeDates.ThisQuarter"),dateLiteral:"THIS_QUARTER",period:"Quarter",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextQuarter"),dateLiteral:"NEXT_QUARTER",period:"Quarter",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextNQuarters"),formatText:polyglot.t("RelativeDates.NextNQuartersFormat"),dateLiteral:"NEXT_N_QUARTERS",period:"Quarter",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastNQuarters"),formatText:polyglot.t("RelativeDates.LastNQuartersFormat"),dateLiteral:"LAST_N_QUARTERS",period:"Quarter",requiresN:!0},{displayName:polyglot.t("RelativeDates.NQuartersAgo"),formatText:polyglot.t("RelativeDates.NQuartersAgoFormat"),dateLiteral:"N_QUARTERS_AGO",period:"Quarter",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastYear"),dateLiteral:"LAST_YEAR",period:"Year",requiresN:!1},{displayName:polyglot.t("RelativeDates.ThisYear"),dateLiteral:"THIS_YEAR",period:"Year",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextYear"),dateLiteral:"NEXT_YEAR",period:"Year",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextNYears"),formatText:polyglot.t("RelativeDates.NextNYearsFormat"),dateLiteral:"NEXT_N_YEARS",period:"Year",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastNYears"),formatText:polyglot.t("RelativeDates.LastNYearsFormat"),dateLiteral:"LAST_N_YEARS",period:"Year",requiresN:!0},{displayName:polyglot.t("RelativeDates.NYearsAgo"),formatText:polyglot.t("RelativeDates.NYearsAgoFormat"),dateLiteral:"N_YEARS_AGO",period:"Year",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastFiscalQuarter"),dateLiteral:"LAST_FISCAL_QUARTER",period:"Fiscal Quarter",requiresN:!1},{displayName:polyglot.t("RelativeDates.ThisFiscalQuarter"),dateLiteral:"THIS_FISCAL_QUARTER",period:"Fiscal Quarter",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextFiscalQuarter"),dateLiteral:"NEXT_FISCAL_QUARTER",period:"Fiscal Quarter",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextNFiscalQuarters"),formatText:polyglot.t("RelativeDates.NextNFiscalQuartersFormat"),dateLiteral:"NEXT_N_FISCAL_QUARTERS",period:"Fiscal Quarter",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastNFiscalQuarters"),formatText:polyglot.t("RelativeDates.LastNFiscalQuartersFormat"),dateLiteral:"LAST_N_FISCAL_QUARTERS",period:"Fiscal Quarter",requiresN:!0},{displayName:polyglot.t("RelativeDates.NFiscalQuartersAgo"),formatText:polyglot.t("RelativeDates.NFiscalQuartersAgoFormat"),dateLiteral:"N_FISCAL_QUARTERS_AGO",period:"Fiscal Quarter",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastFiscalYear"),dateLiteral:"LAST_FISCAL_YEAR",period:"Fiscal Year",requiresN:!1},{displayName:polyglot.t("RelativeDates.ThisFiscalYear"),dateLiteral:"THIS_FISCAL_YEAR",period:"Fiscal Year",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextFiscalYear"),dateLiteral:"NEXT_FISCAL_YEAR",period:"Fiscal Year",requiresN:!1},{displayName:polyglot.t("RelativeDates.NextNFiscalYears"),formatText:polyglot.t("RelativeDates.NextNFiscalYearsFormat"),dateLiteral:"NEXT_N_FISCAL_YEARS",period:"Fiscal Year",requiresN:!0},{displayName:polyglot.t("RelativeDates.LastNFiscalYears"),formatText:polyglot.t("RelativeDates.LastNFiscalYearsFormat"),dateLiteral:"LAST_N_FISCAL_YEARS",period:"Fiscal Year",requiresN:!0},{displayName:polyglot.t("RelativeDates.NFiscalYearsAgo"),formatText:polyglot.t("RelativeDates.NFiscalYearsAgoFormat"),dateLiteral:"N_FISCAL_YEARS_AGO",period:"Fiscal Year",requiresN:!0}]}}),n("GridConstants",["GridConstantsProd"],function(e){return e}),n("dateExt",[],function(){Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(e){for(var t=Date.CultureInfo.monthNames,r=Date.CultureInfo.abbreviatedMonthNames,n=e.toLowerCase(),o=0;o<t.length;o++)if(t[o].toLowerCase()==n||r[o].toLowerCase()==n)return o;return-1},Date.getDayNumberFromName=function(e){for(var t=Date.CultureInfo.dayNames,r=Date.CultureInfo.abbreviatedDayNames,n=(Date.CultureInfo.shortestDayNames,e.toLowerCase()),o=0;o<t.length;o++)if(t[o].toLowerCase()==n||r[o].toLowerCase()==n)return o;return-1},Date.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.getTimezoneOffset=function(e,t){return t?Date.CultureInfo.abbreviatedTimeZoneDST[e.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[e.toUpperCase()]},Date.getTimezoneAbbreviation=function(e,t){var r,n=t?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(r in n)if(n[r]===e)return r;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(e){if(isNaN(this))throw new Error(this);if(e instanceof Date&&!isNaN(e))return this>e?1:this<e?-1:0;throw new TypeError(e)},Date.prototype.equals=function(e){return 0===this.compareTo(e)},Date.prototype.between=function(e,t){var r=this.getTime();return r>=e.getTime()&&r<=t.getTime()},Date.prototype.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},Date.prototype.addSeconds=function(e){return this.addMilliseconds(1e3*e)},Date.prototype.addMinutes=function(e){return this.addMilliseconds(6e4*e)},Date.prototype.addHours=function(e){return this.addMilliseconds(36e5*e)},Date.prototype.addDays=function(e){return this.addMilliseconds(864e5*e)},Date.prototype.addWeeks=function(e){return this.addMilliseconds(6048e5*e)},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.addYears=function(e){return this.addMonths(12*e)},Date.prototype.add=function(e){if("number"==typeof e)return this._orient=e,this;var t=e;return(t.millisecond||t.milliseconds)&&this.addMilliseconds(t.millisecond||t.milliseconds),(t.second||t.seconds)&&this.addSeconds(t.second||t.seconds),(t.minute||t.minutes)&&this.addMinutes(t.minute||t.minutes),(t.hour||t.hours)&&this.addHours(t.hour||t.hours),(t.month||t.months)&&this.addMonths(t.month||t.months),(t.year||t.years)&&this.addYears(t.year||t.years),(t.day||t.days)&&this.addDays(t.day||t.days),this},Date._validate=function(e,t,r,n){if("number"!=typeof e)throw new TypeError(e+" is not a Number.");if(e<t||e>r)throw new RangeError(e+" is not a valid value for "+n+".");return!0},Date.validateMillisecond=function(e){return Date._validate(e,0,999,"milliseconds")},Date.validateSecond=function(e){return Date._validate(e,0,59,"seconds")},Date.validateMinute=function(e){return Date._validate(e,0,59,"minutes")},Date.validateHour=function(e){return Date._validate(e,0,23,"hours")},Date.validateDay=function(e,t,r){return Date._validate(e,1,Date.getDaysInMonth(t,r),"days")},Date.validateMonth=function(e){return Date._validate(e,0,11,"months")},Date.validateYear=function(e){return Date._validate(e,1,9999,"seconds")},Date.prototype.set=function(e){var t=e;return t.millisecond||0===t.millisecond||(t.millisecond=-1),t.second||0===t.second||(t.second=-1),t.minute||0===t.minute||(t.minute=-1),t.hour||0===t.hour||(t.hour=-1),t.day||0===t.day||(t.day=-1),t.month||0===t.month||(t.month=-1),t.year||0===t.year||(t.year=-1),-1!=t.millisecond&&Date.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),-1!=t.second&&Date.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),-1!=t.minute&&Date.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),-1!=t.hour&&Date.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),-1!==t.month&&Date.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),-1!=t.year&&Date.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),-1!=t.day&&Date.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return e%4==0&&e%100!=0||e%400==0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(e,t){var r=(e-this.getDay()+7*(t||1))%7;return this.addDays(0===r?r+=7*(t||1):r)},Date.prototype.moveToMonth=function(e,t){var r=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(0===r?r+=12*(t||1):r)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(e){var t=this.getFullYear(),r=this.getMonth(),n=this.getDate(),o=e||Date.CultureInfo.firstDayOfWeek,i=8-new Date(t,0,1).getDay();8==i&&(i=1);var a=(Date.UTC(t,r,n,0,0,0)-Date.UTC(t,0,1,0,0,0))/864e5+1,s=Math.floor((a-i+7)/7);if(s===o){t--;var l=8-new Date(t,0,1).getDay();s=2==l||8==l?53:52}return s},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),r=-6*Number(e)/10;return this.addMinutes(r-t),this},Date.prototype.setTimezone=function(e){return this.setTimezoneOffset(Date.getTimezoneOffset(e))},Date.prototype.getUTCOffset=function(){var e,t=-10*this.getTimezoneOffset()/6;return t<0?(e=(t-1e4).toString())[0]+e.substr(2):"+"+(e=(t+1e4).toString()).substr(1)},Date.prototype.getDayName=function(e){return e?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(e){return e?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(e){var t=this,r=function(e){return 1==e.toString().length?"0"+e:e};return e?e.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(e){switch(e){case"hh":return r(t.getHours()<13?t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours():t.getHours()-12;case"HH":return r(t.getHours());case"H":return t.getHours();case"mm":return r(t.getMinutes());case"m":return t.getMinutes();case"ss":return r(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substring(2,4);case"dddd":return t.getDayName();case"ddd":return t.getDayName(!0);case"dd":return r(t.getDate());case"d":return t.getDate().toString();case"MMMM":return t.getMonthName();case"MMM":return t.getMonthName(!0);case"MM":return r(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date._now=function(){return new Date},Date.today=function(){return Date._now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var e={};return e[this._dateElement]=this,Date._now().add(e)},Number.prototype.ago=function(){var e={};return e[this._dateElement]=-1*this,Date._now().add(e)},function(){for(var e,t=Date.prototype,r=Number.prototype,n="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),o="january february march april may june july august september october november december".split(/\s/),i="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),a=function(e){return function(){return this._is?(this._is=!1,this.getDay()==e):this.moveToDayOfWeek(e,this._orient)}},s=0;s<n.length;s++)t[n[s]]=t[n[s].substring(0,3)]=a(s);for(var l=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},u=0;u<o.length;u++)t[o[u]]=t[o[u].substring(0,3)]=l(u);for(var c=function(e){return function(){return"s"!=e.substring(e.length-1)&&(e+="s"),this["add"+e](this._orient)}},d=function(e){return function(){return this._dateElement=e,this}},f=0;f<i.length;f++)t[e=i[f].toLowerCase()]=t[e+"s"]=c(i[f]),r[e]=r[e+"s"]=d(e)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};for(var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(r){var n=r.match(t);if(n)return[n[0],r.substring(n[0].length)];throw new e.Exception(r)}},token:function(e){return function(e){return t.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(new RegExp("^"+e))},until:function(e){return function(t){for(var r=[],n=null;t.length;){try{n=e.call(this,t)}catch(e){r.push(n[0]),t=n[1];continue}break}return[r,t]}},many:function(e){return function(t){for(var r=[],n=null;t.length;){try{n=e.call(this,t)}catch(e){return[r,t]}r.push(n[0]),t=n[1]}return[r,t]}},optional:function(e){return function(t){var r=null;try{r=e.call(this,t)}catch(e){return[null,t]}return[r[0],r[1]]}},not:function(t){return function(r){try{t.call(this,r)}catch(e){return[null,r]}throw new e.Exception(r)}},ignore:function(e){return e?function(t){return[null,e.call(this,t)[1]]}:null},product:function(){for(var e=arguments[0],r=Array.prototype.slice.call(arguments,1),n=[],o=0;o<e.length;o++)n.push(t.each(e[o],r));return n},cache:function(t){var r={},n=null;return function(o){try{n=r[o]=r[o]||t.call(this,o)}catch(e){n=r[o]=e}if(n instanceof e.Exception)throw n;return n}},any:function(){var t=arguments;return function(r){for(var n=null,o=0;o<t.length;o++)if(null!=t[o]){try{n=t[o].call(this,r)}catch(e){n=null}if(n)return n}throw new e.Exception(r)}},each:function(){var t=arguments;return function(r){for(var n=[],o=null,i=0;i<t.length;i++)if(null!=t[i]){try{o=t[i].call(this,r)}catch(t){throw new e.Exception(r)}n.push(o[0]),r=o[1]}return[n,r]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(r,n,o){return n=n||t.rtoken(/^\s*/),o=o||null,1==r.length?r[0]:function(t){for(var i=null,a=null,s=[],l=0;l<r.length;l++){try{i=r[l].call(this,t)}catch(e){break}s.push(i[0]);try{a=n.call(this,i[1])}catch(e){a=null;break}t=a[1]}if(!i)throw new e.Exception(t);if(a)throw new e.Exception(a[1]);if(o)try{i=o.call(this,i[1])}catch(t){throw new e.Exception(i[1])}return[s,i?i[1]:t]}},between:function(e,n,o){o=o||e;var i=t.each(t.ignore(e),n,t.ignore(o));return function(e){var t=i.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,r,n){return r=r||t.rtoken(/^\s*/),n=n||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(r)),e.slice(-1),t.ignore(n)):t.each(t.many(t.each(e,t.ignore(r))),px,t.ignore(n))},set:function(r,n,o){return n=n||t.rtoken(/^\s*/),o=o||null,function(i){for(var a=null,s=null,l=null,u=null,c=[[],i],d=!1,f=0;f<r.length;f++){l=null,s=null,a=null,d=1==r.length;try{a=r[f].call(this,i)}catch(e){continue}if(u=[[a[0]],a[1]],a[1].length>0&&!d)try{l=n.call(this,a[1])}catch(e){d=!0}else d=!0;if(d||0!==l[1].length||(d=!0),!d){for(var h=[],p=0;p<r.length;p++)f!=p&&h.push(r[p]);(s=t.set(h,n).call(this,l[1]))[0].length>0&&(u[0]=u[0].concat(s[0]),u[1]=s[1])}if(u[1].length<c[1].length&&(c=u),0===c[1].length)break}if(0===c[0].length)return c;if(o){try{l=o.call(this,c[1])}catch(t){throw new e.Exception(c[1])}c[1]=l[1]}return c}},forward:function(e,t){return function(r){return e[t].call(this,r)}},replace:function(e,t){return function(r){var n=e.call(this,r);return[t,n[1]]}},process:function(e,t){return function(r){var n=e.call(this,r);return[t.call(this,n[0]),n[1]]}},min:function(t,r){return function(n){var o=r.call(this,n);if(o[0].length<t)throw new e.Exception(n);return o}}},n=function(e){return function(){var t=null,r=[];if(arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),!t)return e.apply(null,arguments);for(var n=0,o=t.shift();n<o.length;n++)return t.unshift(o[n]),r.push(e.apply(null,t)),t.shift(),r}},o="optional not ignore cache".split(/\s/),i=0;i<o.length;i++)t[o[i]]=n(t[o[i]]);for(var a=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},s="each any all".split(/\s/),l=0;l<s.length;l++)t[s[l]]=a(t[s[l]])}(),function(){var e=function(t){for(var r=[],n=0;n<t.length;n++)t[n]instanceof Array?r=r.concat(e(t[n])):t[n]&&r.push(t[n]);return r};Date.Grammar={},Date.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(e){return function(){this.month=3==e.length?Date.getMonthNumberFromName(e):Number(e)-1}},year:function(e){return function(){var t=Number(e);this.year=e.length>2?t:t+(t+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];var t=new Date;this.year=t.getFullYear(),this.month=t.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var r=0;r<e.length;r++)e[r]&&e[r].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var n=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?n.set({timezone:this.timezone}):this.timezoneOffset&&n.set({timezoneOffset:this.timezoneOffset}),n},finish:function(t){if(0===(t=t instanceof Array?e(t):[t]).length)return null;for(var r=0;r<t.length;r++)"function"==typeof t[r]&&t[r].call(this);if(this.now)return new Date;var n,o,i,a=Date.today();return null!=this.days||this.orient||this.operator?(i="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",n=Date.getDayNumberFromName(this.weekday)-a.getDay(),o=7,this.days=n?(n+i*o)%o:i*o),this.month&&(this.unit="month",n=this.month-a.getMonth(),o=12,this.months=n?(n+i*o)%o:i*o,this.month=null),this.unit||(this.unit="day"),null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*i),a.add(this)):(this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=a.addDays(Date.getDayNumberFromName(this.weekday)-a.getDay()).getDate()),this.month&&!this.day&&(this.day=1),a.set(this))}};var t,r=Date.Parsing.Operators,n=Date.Grammar,o=Date.Translator;n.datePartDelimiter=r.rtoken(/^([\s\-\.\,\/\x27]+)/),n.timePartDelimiter=r.stoken(":"),n.whiteSpace=r.rtoken(/^\s*/),n.generalDelimiter=r.rtoken(/^(([\s\,]|at|on)+)/);var i={};n.ctoken=function(e){var t=i[e];if(!t){for(var n=Date.CultureInfo.regexPatterns,o=e.split(/\s+/),a=[],s=0;s<o.length;s++)a.push(r.replace(r.rtoken(n[o[s]]),o[s]));t=i[e]=r.any.apply(null,a)}return t},n.ctoken2=function(e){return r.rtoken(Date.CultureInfo.regexPatterns[e])},n.h=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),o.hour)),n.hh=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2])/),o.hour)),n.H=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),o.hour)),n.HH=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3])/),o.hour)),n.m=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),o.minute)),n.mm=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),o.minute)),n.s=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),o.second)),n.ss=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),o.second)),n.hms=r.cache(r.sequence([n.H,n.mm,n.ss],n.timePartDelimiter)),n.t=r.cache(r.process(n.ctoken2("shortMeridian"),o.meridian)),n.tt=r.cache(r.process(n.ctoken2("longMeridian"),o.meridian)),n.z=r.cache(r.process(r.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),o.timezone)),n.zz=r.cache(r.process(r.rtoken(/^(\+|\-)\s*\d\d\d\d/),o.timezone)),n.zzz=r.cache(r.process(n.ctoken2("timezone"),o.timezone)),n.timeSuffix=r.each(r.ignore(n.whiteSpace),r.set([n.tt,n.zzz])),n.time=r.each(r.optional(r.ignore(r.stoken("T"))),n.hms,n.timeSuffix),n.d=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1]|\d)/),r.optional(n.ctoken2("ordinalSuffix"))),o.day)),n.dd=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1])/),r.optional(n.ctoken2("ordinalSuffix"))),o.day)),n.ddd=n.dddd=r.cache(r.process(n.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),n.M=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d|\d)/),o.month)),n.MM=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d)/),o.month)),n.MMM=n.MMMM=r.cache(r.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),o.month)),n.y=r.cache(r.process(r.rtoken(/^(\d\d?)/),o.year)),n.yy=r.cache(r.process(r.rtoken(/^(\d\d)/),o.year)),n.yyy=r.cache(r.process(r.rtoken(/^(\d\d?\d?\d?)/),o.year)),n.yyyy=r.cache(r.process(r.rtoken(/^(\d\d\d\d)/),o.year)),t=function(){return r.each(r.any.apply(null,arguments),r.not(n.ctoken2("timeContext")))},n.day=t(n.d,n.dd),n.month=t(n.M,n.MMM),n.year=t(n.yyyy,n.yy),n.orientation=r.process(n.ctoken("past future"),function(e){return function(){this.orient=e}}),n.operator=r.process(n.ctoken("add subtract"),function(e){return function(){this.operator=e}}),n.rday=r.process(n.ctoken("yesterday tomorrow today now"),o.rday),n.unit=r.process(n.ctoken("minute hour day week month year"),function(e){return function(){this.unit=e}}),n.value=r.process(r.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),n.expression=r.set([n.rday,n.operator,n.value,n.unit,n.orientation,n.ddd,n.MMM]),t=function(){return r.set(arguments,n.datePartDelimiter)},n.mdy=t(n.ddd,n.month,n.day,n.year),n.ymd=t(n.ddd,n.year,n.month,n.day),n.dmy=t(n.ddd,n.day,n.month,n.year),n.date=function(e){return(n[Date.CultureInfo.dateElementOrder]||n.mdy).call(this,e)},n.format=r.process(r.many(r.any(r.process(r.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(n[e])return n[e];throw Date.Parsing.Exception(e)}),r.process(r.rtoken(/^[^dMyhHmstz]+/),function(e){return r.ignore(r.stoken(e))}))),function(e){return r.process(r.each.apply(null,e),o.finishExact)});var a={},s=function(e){return a[e]=a[e]||n.format(e)[0]};n.formats=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(s(e[n]));return r.any.apply(null,t)}return s(e)},n._formats=n.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),n._start=r.process(r.set([n.date,n.time,n.expression],n.generalDelimiter,n.whiteSpace),o.finish),n.start=function(e){try{var t=n._formats.call({},e);if(0===t[1].length)return t}catch(e){}return n._start.call({},e)}}(),Date._parse=Date.parse,Date.parse=function(e){var t=null;if(!e)return null;try{t=Date.Grammar.start.call({},e)}catch(e){return null}return 0===t[1].length?t[0]:null},Date.getParseFunction=function(e){var t=Date.Grammar.formats(e);return function(e){var r=null;try{r=t.call({},e)}catch(e){return null}return 0===r[1].length?r[0]:null}},Date.parseExact=function(e,t){return Date.getParseFunction(t)(e)},Date.prototype.isBefore=function(e){return this.compareTo(e)<0},Date.prototype.isAfter=function(e){return this.compareTo(e)>0}}),n("extensions",["dateExt"],function(){"function"!=typeof Object.create&&(Object.create=function(e){var t=function(){};return t.prototype=e,new t}),"function"!=typeof Object.copy&&(Object.copy=function(e,t){return t=t||{},Object.each(e,function(e,r){t[r]=e}),t}),"function"!=typeof Object.each&&(Object.each=function(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}),"function"!=typeof Object.where&&(Object.where=function(e,t){var r=[];return Object.each(e,function(e,n){t(e,n)&&r.push(e)}),r}),"function"!=typeof Object.first&&(Object.first=function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}),"function"!=typeof Array.orderBy&&(Array.orderBy=function(e,t){if(void 0!==e)return e.sort(function(e,r){return t(e)<t(r)?-1:t(e)>t(r)?1:0})}),"function"!=typeof String.format&&(String.format=function(e){for(var t=e.match(/{\d+}/g),r=0;r<t.length;r++){var n=parseInt(t[r].replace(/[{}]/,""));e=e.replace(t[r],arguments[n+1])}return e}),String.prototype.toTitleCase=function(){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return this.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,r,n){return r>0&&r+t.length!==n.length&&t.search(e)>-1&&":"!==n.charAt(r-2)&&("-"!==n.charAt(r+t.length)||"-"===n.charAt(r-1))&&n.charAt(r-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})},String.prototype.prettifyAPIName=function(){return this.replace("__r","").split(/(?=[A-Z])/).join(" ").replace(/\_/g," ").replace(/\ \ /g," ").toTitleCase()},String.prototype.distance=function(e){var t=this;if(0==t.length)return e.length;if(0==e.length)return t.length;var r,n,o=[];for(r=0;r<=e.length;r++)o[r]=[r];for(n=0;n<=t.length;n++)o[0][n]=n;for(r=1;r<=e.length;r++)for(n=1;n<=t.length;n++)e.charAt(r-1)==t.charAt(n-1)?o[r][n]=o[r-1][n-1]:o[r][n]=Math.min(o[r-1][n-1]+1,Math.min(o[r][n-1]+1,o[r-1][n]+1));return o[e.length][t.length]},"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var r=arguments[t];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("function"!=typeof o&&("object"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,a,s=[];for(i in o)e.call(o,i)&&s.push(i);if(t)for(a=0;a<n;a++)e.call(o,r[a])&&s.push(r[a]);return s}}()),"function"!=typeof Object.values&&(Object.values=function(e){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}),"function"!=typeof Object.getPropByString&&(Object.getPropByString=function(e,t){for(var r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0,o=r.length;n<o;n+=1){var i=r[n];if(!(i in e))return;e=e[i]}return e}),"function"!=typeof Object.setPropByString&&(Object.setPropByString=function(e,t,r){var n=Object.assign({},e),o=t.split(".");if(o.length>1){var i=o[0];return o.splice(0,1),n[i]=Object.setPropByString(e[i],o.join("."),r),n}return n[t]=r,n})}),n("sfdc",["GridConstants","extensions"],function(e){return{defaultRemoteActionOptions:{escape:!1,buffer:!1,timeout:12e4},namespace:void 0,sessionId:void 0,uiThemeDisplayed:null,isLightningExperiencePreferred:null,describeCache:{},describeLayoutCache:{},describeLayoutRecordTypeCache:{},licensedPackageCache:void 0,organizationType:void 0,activeCurrencies:{},isMultiCurrencyOrganization:!1,userDefaultCurrencyIsoCode:null,orgDefaultCurrencyIsoCode:null,initSforce:function(){sforce.connection.client="CRMCulture/ActionGrid/",sforce&&sforce.connection&&sforce.connection.serverUrl&&0!=sforce.connection.serverUrl.indexOf(UserContext.siteUrlPrefix)&&(sforce.connection.serverUrl=UserContext.siteUrlPrefix+sforce.connection.serverUrl),this.sessionId&&(sforce.connection.sessionId=this.sessionId)},parseAsObject:function(){for(var e=location.search.slice(1).split("&"),t={},r=0;r<e.length;r++){var n=e[r].split("=");2===n.length&&(t[unescape(n[0])]=unescape(n[1]))}return t},isSandbox:function(){var e,t=window.location.hostname.split(".");return(e=5==t.length?t[1]:3==t.length?t[0]:t[1])&&e[0]&&"c"==e[0].toLowerCase()},executeRemoteAction:function(t,r,n,o){t=this.getRemoteAction(e.VF_APEX_CONTROLLER,t),r.unshift(t),r.push(n),o&&r.push(o),Visualforce.remoting.Manager.invokeAction.apply(Visualforce.remoting.Manager,r)},promiseRemoteAction:function(e,t,r){var n=this;return new Promise(function(o,i){n.executeRemoteAction(e,t,function(e,t){t.status?o(e,t):i(t)},r)})},parseAsArray:function(e){var t=[],r=this.parseAsObject();if(void 0!==r[e])for(var n=r[e].split(","),o=0;o<n.length;o++)""!=n[o]&&t.push(n[o]);return t},parseDate:function(e,t){var r=e;return"number"==typeof e&&(r=new Date(e),r="date"!==t.toLowerCase()?"time"===t?new Date(r.toLocaleString("en-us",{timeZone:"UTC"})):this.convertToUserDateTime(r):new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())),r},sanitizeValue:function(e){return e?kendo.htmlEncode(e):""},formatPhone:function(e){var t="",r=e.trim(),n="",o=-1;if(r.length>0&&"+"!=r.charAt(0)){var a=0;for("1"==r.charAt(0)&&(r=r.substring(1,r.length)),i=0;i<r.length;i++){var s=r.charAt(i);if(s>="0"&&s<="9"&&(0==a?n+="(":3==a?n+=") ":6==a&&(n+="-"),n+=s,a++),!(s>="0"&&s<="9")&&" "!=s&&"-"!=s&&"."!=s&&"("!=s&&")"!=s){o=i;break}}return o>=0&&(n+=" "+r.substring(o,r.length)),10==a&&n.length<=40&&(t=n),t}},importScript:function(e,t){var r=document.createElement("script");t&&(r.onload=t),document.getElementsByTagName("HEAD").item(0).appendChild(r),r.src=e},popupWindow:function(e,t){var r=window.outerWidth-365,n=window.outerHeight-115,o=window.screenX+350,i=window.screenY+50,a=this.isInConsole();return a&&window.srcUp?srcUp(e):a&&sforce&&sforce.console&&sforce.console.openPrimaryTab?sforce.console.openPrimaryTab(null,e):window.open(e,t||"_blank","toolbar=yes,location=yes,menubar=yes,resizable=yes,scrollbars=yes,status=yes, height="+n+", width="+r+", left="+o+", top="+i)},navigateToVFPage:function(e,t,r,n,o,i){var a=[];Object.each(r,function(e,t){e&&t&&a.push(encodeURIComponent(t)+"="+encodeURIComponent(e))});var s=String.format("/apex/{0}__{1}?{2}",e,t,a.join("&"));if("object"==typeof UserContext&&"function"==typeof UserContext.getUrl&&(s=UserContext.getUrl(s)),i)return s;if(n)this.popupWindow(s);else{var l=window.open(s,o||"_top","toolbar=yes,location=yes,menubar=yes,resizable=yes,scrollbars=yes,status=yes");l&&l.focus()}},getRecordURL:function(e,t,r){var n=window.UserContext&&window.UserContext.siteUrlPrefix||"",o=t?"/e":"",i=n+"/"+e+o;if(this.isInConsole()){if(window.srcUp)return"javascript:srcUp('"+encodeURIComponent(i+"?isdtp=vw'")+");";if(sforce&&sforce.console&&sforce.console.openPrimaryTab)return kendo.format("javascript:sforce.console.openPrimaryTab(null, '{0}');",i)}return n+"/"+e+o+(void 0!==r&&null!==r?"?retURL="+encodeURIComponent(r):"")},isInConsole:function(){var e=this.parseAsObject();if(e){if("1"===e.clc)return!0;if("0"===e.clc)return!1}var t=location.search;return!("undefined"!=typeof sforce&&sforce.one)&&0!==t.length&&-1==t.indexOf("agFS")&&(t.indexOf("?isdtp=")>-1||t.indexOf("&isdtp=")>-1)||"undefined"!=typeof canvasClient&&canvasClient.isInConsole&&canvasClient.isInConsole()},getSfdcURL:function(e,t,r,n){var o=[];Object.each(r,function(e,t){e&&t&&o.push(encodeURIComponent(t)+"="+encodeURIComponent(e))});var i=t;e&&i.indexOf("__")<0&&(i=e+"__"+t);var a=String.format("/{0}/{1}?{2}",n,i,o.join("&"));return"object"==typeof UserContext&&"function"==typeof UserContext.getUrl&&(a=UserContext.getUrl(a)),a},getStaticResourceURL:function(e,t,r){return this.getSfdcURL(e,t,r,"resource")},getVFPageURL:function(e,t,r){return this.getSfdcURL(e,t,r,"apex")},postToVFPage:function(e,t,r,n,o,i,a){var s=this.getVFPageURL(e,t,r),l=document.createElement("form");if(l.method="post",l.action=s,l.setAttribute("target",i||"_top"),Object.each(n,function(e,t){var r=document.createElement("input");r.type="hidden","object"==typeof e&&void 0!==e.name&&void 0!==e.value?(r.name=e.name,r.value=e.value):(r.name=t,r.value=e),l.appendChild(r)}),o&&l.setAttribute("target",t),document.body.appendChild(l),a)return l;l.submit()},postToVFPageWithCache:function(e,t,r,n,o,i,a){var s=Date.now().toString(),l={data:JSON.stringify(n),cacheKey:s},u=this;this.promiseRemoteAction("doRemoteAction",["storeInMetadata",JSON.stringify(l)],{escape:!1,buffer:!1,timeout:12e4}).then(function(){void 0!==r&&null!==r?r.cacheKey=s:r={cacheKey:s};var a=u.getVFPageURL(e,t,r),l=document.createElement("form");l.method="post",l.action=a,l.setAttribute("target",i||"_top"),Object.each(n,function(e,t){var r=document.createElement("input");r.type="hidden","object"==typeof e&&void 0!==e.name&&void 0!==e.value?(r.name=e.name,r.value=e.value):(r.name=t,r.value=e),l.appendChild(r)}),o&&l.setAttribute("target",t),document.body.appendChild(l),l.submit()})},navigateToPage:function(e,t,r,n,o){var i=[];Object.each(t,function(e,t){i.push(encodeURIComponent(t)+"="+encodeURIComponent(e))});var a=String.format("/{0}{1}{2}",e,i.length>0?"?"+i.join("&"):"",o||"");("object"==typeof UserContext&&"function"==typeof UserContext.getUrl&&(a=UserContext.getUrl(a)),r)?this.popupWindow(a):window.open(a,n||"_top").focus()},getCustomObjectId:function(e,t,r){var n=kendo.format("SELECT DurableId FROM EntityParticle WHERE EntityDefinition.QualifiedApiName = '{0}' LIMIT 1",e);this.queryAsync(n,function(e){if(e&&e.length>0&&e[0].DurableId)var r=e[0].DurableId.split(".")[0];t(r)},r)},getCustomFieldId:function(e,t,r,n){var o=kendo.format("SELECT DurableId FROM EntityParticle WHERE EntityDefinition.QualifiedApiName = '{0}' and QualifiedAPIName = '{1}' LIMIT 1",e,t);this.queryAsync(o,function(e){if(e&&e.length>0&&e[0].DurableId&&e[0].DurableId.indexOf(".")>-1)var t=e[0].DurableId.split(".")[1];r(t)},n)},getSObjectDescribe:function(e){return this.initSforce(),this.describeCache[e]||(this.describeCache[e]=sforce.connection.describeSObject(e)),this.describeCache[e]},getDescribeGlobal:function(e){var t;if(this.initSforce(),this.describeGlobal)t=this.describeGlobal,"function"==typeof e&&e(t);else{var r=this;"function"==typeof e?sforce.connection.describeGlobal(function(t){r.describeGlobal=t,e(t)}):(t=sforce.connection.describeGlobal(),this.describeGlobal=t)}return t},getDescribeLayout:function(e){var t;return this.initSforce(),this.describeLayoutCache[e]?t=this.describeLayoutCache[e]:(t=sforce.connection.describeLayout(e),this.describeLayoutCache[e]=t),t},getDescribeLayoutByRecordType:function(e,t,r){if(this.initSforce(),this.describeLayoutRecordTypeCache[t])return"function"==typeof r&&r(this.describeLayoutRecordTypeCache[t]),this.describeLayoutRecordTypeCache[t];var n=sforce.connection.describeLayout(e,null,[t]);return this.describeLayoutRecordTypeCache[t]=n,"function"==typeof r&&r(n),n},getPicklistsForObjectRecordTypes:function(e,t){if(!e||!t||"function"!=typeof t.filter)return null;var r=t.filter(function(e){return"true"===e.defaultRecordTypeMapping||!0===e.defaultRecordTypeMapping});if(!r.length)return null;var n=this.getDescribeLayoutByRecordType(e,r[0].recordTypeId);return this.getPicklistsForRecordTypes(n)},getGlobalDefaultCustomSettings:function(){var e=this.query("SELECT Id, {0}Font_Size__c FROM {0}Grid_Default__c WHERE {0}Owner__c = 'global' Limit 1",this.getNamespace(!0))[0];return void 0===e&&(e=new sforce.SObject(kendo.format("{0}Grid_Default__c",this.getNamespace(!0)))),e},getPicklistDefaultValue:function(e){return e&&"function"==typeof e.filter&&e.filter(function(e){return"true"===e.defaultValue||!0===e.defaultValue})[0]||null},getPicklistsForRecordTypes:function(e){this.initSforce();var t={};return e.getBoolean?t.selectorRequired=e.getBoolean("recordTypeSelectorRequired"):e.recordTypeSelectorRequired&&e.recordTypeSelectorRequired.length>0&&(t.selectorRequired=e.recordTypeSelectorRequired[0]),e.recordTypeMappings&&(e.recordTypeMappings instanceof Array||(e.recordTypeMappings=[e.recordTypeMappings]),Object.each(e.recordTypeMappings,function(e){t[e.recordTypeId]={_name:e.name,_isAvailable:e.available,_isDefault:e.defaultRecordTypeMapping};var r=[];e.picklistsForRecordType&&(r=r.concat(e.picklistsForRecordType)),Object.each(r,function(r){t[e.recordTypeId][r.picklistName]=r.picklistValues}),t[e.recordTypeId]._isDefault&&(t.defaultRecordTypeId=e.recordTypeId)})),t},getAvailableObjects:function(e,t,r){var n=["Note","Task","Profile","Event","CampaignMember","CaseContactRole","OrderItem","OpportunityLineItem","QuoteLineItem","OpportunityTeamMember","OpportunityContactRole","PricebookEntry","Pricebook2"],o=this.getDescribeGlobal().getArray("sobjects"),i=[];return Object.each(o,function(o){var a=o.getBoolean("queryable");if(r&&a||n.indexOf(o.name)>-1||!o.getBoolean("deprecatedAndHidden")&&a&&o.getBoolean("retrieveable")&&o.getBoolean("searchable")&&o.getBoolean("layoutable")){var s={};Object.each(o,function(e,t){s[t]=e}),e&&!1===t(o.name)||i.push(s)}}),i=Array.orderBy(i,function(e){return e.label.toLowerCase()})},getSObjectNameField:function(e){var t=Object.first(e.fields,function(e){return e.getBoolean("nameField")});return t?t.name:void 0},query:function(e){arguments.length>1&&(e=String.format.apply(String,arguments)),window.isDebug&&console.log(e);try{return this.initSforce(),sforce.connection.queryAll(e).getArray("records")}catch(e){throw console.log(e.faultstring),e}},queryAll:function(e){arguments.length>1&&(e=String.format.apply(String,arguments)),window.isDebug&&console.log(e);try{this.initSforce();for(var t=sforce.connection.queryAll(e),r=t.getArray("records"),n=t.queryLocator,o=t.done;"false"===o;){var i=sforce.connection.queryMore(n);o=i.done,n=i.queryLocator,i.getArray("records").forEach(function(e){r.push(e)})}return r}catch(e){throw console.log(e.faultstring),e}},queryAsync:function(e,t,r){var n=[];if(this.initSforce(),"undefined"==r||null==r)r=function(e){console.log("An error has occurred "+e)};var o=function(e){n=n.concat(e.getArray("records")),e.getBoolean("done")?(!1,t(n)):sforce.connection.queryMore(e.queryLocator,{onSuccess:o,onFailure:r})};sforce.connection.query(e,{onSuccess:o,onFailure:r})},batchQueryIn:function(e,t,r,n){var o=[];t instanceof Array&&(t=t.join());var i=Math.ceil(n.length/85);i<1&&(i=1);for(var a=0;a<i;a++){var s=n.slice(85*a,85*(a+1)),l=this.query("select {0} from {1} where {2} in ({3})",t,e,r,s.join());o=o.concat(l)}return o},errorHandlerObject:function(e,t,r){return{onSuccess:function(n){var o,i,a=n[0],s=!0;r?(Object.each(n,function(e){e.getBoolean("success")||(s=!1)}),n.length>1?(o=n,i=n):(o=a.errors||a.faultstring||a,i=a)):(s=a.getBoolean("success"),a.errors&&(a.errors=[].concat(a.errors),o=a.errors[0].message),i=a),s?e(i):"function"==typeof t&&t(o)},onFailure:function(e){"function"==typeof t&&t(r?e:e.message||e.faultstring||e)}}},update:function(e,t,r,n){this.initSforce(),sforce.connection.update([e],this.errorHandlerObject(t,r,n))},upsert:function(e,t,r,n){this.initSforce(),sforce.connection.upsert(e,[t],this.errorHandlerObject(r,n,!0))},insert:function(e,t,r,n){this.initSforce(),e instanceof Array||(e=[e]),sforce.connection.create(e,this.errorHandlerObject(t,r,n))},batchUpsert:function(e,t,r){this.initSforce(),e instanceof Array||(e=[e]);var n,o=[],i=(e=e.map(function(e){return(t=e).fieldsToNull=[],Object.keys(t).forEach(function(e){null!==t[e]&&""!==t[e]&&void 0!==t[e]||t.fieldsToNull.push(e)}),t;var t})).length/200,a=0,s=function(e){o=o.concat(e),++a>=i&&"function"==typeof r&&r(o)};for(n=0;n<e.length;n+=200)sforce.connection.upsert(t,e.slice(n,n+200),{onSuccess:s,onFailure:s})},batchUpdate:function(e,t){this.initSforce(),e instanceof Array||(e=[e]);var r,n=[],o=(e=e.map(function(e){return(t=e).fieldsToNull=[],Object.keys(t).forEach(function(e){null!==t[e]&&""!==t[e]&&void 0!==t[e]||t.fieldsToNull.push(e)}),t;var t})).length/200,i=0,a=function(e){n=n.concat(e),++i>=o&&"function"==typeof t&&t(n)};for(r=0;r<e.length;r+=200)sforce.connection.update(e.slice(r,r+200),{onSuccess:a,onFailure:a})},batchInsert:function(e,t){this.initSforce(),e instanceof Array||(e=[e]);var r,n=[],o=function(r){(n=n.concat(r)).length==e.length&&"function"==typeof t&&t(n)};for(r=0;r<e.length;r+=200)sforce.connection.create(e.slice(r,r+200),{onSuccess:o,onFailure:o});var i={massCreateCount:e.length,massUpdateCount:0};this.promiseRemoteAction("doRemoteAction",["populateUsageSetting",JSON.stringify(i)],{escape:!1,buffer:!1,timeout:12e4})},batchDelete:function(e,t){this.initSforce(),e instanceof Array||(e=[e]);for(var r=[],n=function(n){n&&n.length&&$.merge(r,n),r.length==e.length&&"function"==typeof t&&t(r)},o=0;o<e.length;o+=200)sforce.connection.deleteIds(e.slice(o,o+200),{onSuccess:n,onFailure:n})},getUserInfo:function(e){if(!this.userInfo)if(window.isDebug)this.userInfo={organizationId:"00Do0000000KXVqEAO",userLocale:"en_US",userTimeZone:"America/Denver",currencySymbol:"$",userId:"",orgHasPersonAccounts:!1};else try{if(this.initSforce(),"function"==typeof e)var t=function(t){this.userInfo=t,e(t)};this.userInfo=sforce.connection.getUserInfo(t)}catch(e){console.log(e)}return this.userInfo},setCulture:function(e,t){},getProfileTimezoneOffset:function(){var e=new Date,t=this.convertToUserDateTime(e).valueOf(),r=e.valueOf();return Math.round((r-t)/1e3/60)},getDateWithOffset:function(e,t){var r=e.valueOf();return new Date(r+60*t*1e3)},convertToUserDateTime:function(e){var t=this.getUserInfo();try{var r={timeZone:void 0!==t.userTimeZone?t.userTimeZone:"UTC"};"string"!=typeof e&&"number"!=typeof e||(e=new Date(e));var n=e.toLocaleString("en-US",r);n.indexOf(" at")>-1&&(n=n.replace(" at",""));var o=new Date(n);"Invalid Date"!=o&&(e=o)}catch(e){}return e},convertDateFilters:function(e,t){var r=this;e&&e.filters&&e.filters.length&&e.filters.map(function(e){if(e&&e.value&&e.value instanceof Date){var n=Object.first(t,function(t){return t.name==e.field});n&&n.type&&("DATE"!=n.type.toUpperCase()&&("TIME"===n.type.toUpperCase()?e.value=e.value.toTimeString().substr(0,5)+":00.000Z":e.value=r.getDateWithOffset(e.value,r.getProfileTimezoneOffset())),"TIME"!==n.type.toUpperCase()&&(e.value=e.value.toISOString()))}r.convertDateFilters(e,t)})},convertFKFilters:function(e,t){var r=this;e&&e.filters&&e.filters.length&&e.filters.map(function(e){if(e&&e.value&&("isnull"==e.operator||"isnotnull"==e.operator)){var n=Object.first(t,function(t){return t.name==e.field});n&&n.parentMeta&&"REFERENCE"==n.parentMeta.type&&(e.field=n.parentMeta.name)}r.convertFKFilters(e,t)})},replaceFilterCriteria:function(e,t,r){var n=!1;if(!e||!t||!r)return n;var o=function(e,t,r){if(!e)return e;if(void 0!==e.filters)o(e.filters,t,r);else for(var i=e.length-1;i>=0;i--){var a=function(){e[i]=r,n=!0};void 0!==e[i].field&&e[i].field===t?a():void 0!==e[i].filters&&e[i].filters.length>0&&(e[i].filters[0]&&e[i].filters[0].field===t?a():o(e[i].filters,t,r))}};return Object.where(e.filters,function(e){return e.field===t}).length>1?(e.filters=r.filters,e.logic=e.logic?r.logic:"and",!0):(o(e,t,r),n)},getNamespace:function(t){return void 0===this.namespace&&(this.namespace=e.namespace),t&&this.namespace.length>0?this.namespace+"__":this.namespace},getRemoteAction:function(e,t){var r=this.getNamespace(!1);return(r?r+".":"")+e+"."+t},isSalesforceId:function(e){return/^[a-zA-Z0-9]{15}$|^[a-zA-Z0-9]{18}$/.test(e)},getIdFieldFromRelationshipName:function(e){var t=/__(p?)r$/,r=e+"Id";return e.match(t)&&(r=e.replace(t,"__$1c")),r},getCurrencyConversionRate:function(e,t){return this.activeCurrencies[t]&&this.activeCurrencies[e]?this.activeCurrencies[t].ConversionRate/this.activeCurrencies[e].ConversionRate:1},getUserCurrencyConversionRate:function(e){return"string"==typeof this.userDefaultCurrencyIsoCode&&this.activeCurrencies[this.userDefaultCurrencyIsoCode]?this.getCurrencyConversionRate(e,this.userDefaultCurrencyIsoCode):1},getCurrencyPrecision:function(e,t){var r=t||0;return this.activeCurrencies[e]&&this.activeCurrencies[e].DecimalPlaces||r},getCurrencyIsoCode:function(e,t){if(!e)return null;var r=e.CurrencyIsoCode||null;if(t&&t.indexOf(".")>0){var n=t.split(".");n.pop();var o=e[n.join(".")+".CurrencyIsoCode"];if(!o){var i=n.reduce(function(e,t){return e&&e[t]},e);o=i&&i.CurrencyIsoCode}r=o||r}return null!==r&&void 0!==r||(r=void 0!==this.userDefaultCurrencyIsoCode&&null!==this.userDefaultCurrencyIsoCode?this.userDefaultCurrencyIsoCode:this.orgDefaultCurrencyIsoCode),r},convertCurrencyAmount:function(e,t,r){var n=this.getCurrencyPrecision(r);return+(e*this.getCurrencyConversionRate(t,r)).toFixed(n)},convertCurrencyAmountToUserCurrency:function(e,t){return this.convertCurrencyAmount(e,t,this.userDefaultCurrencyIsoCode)},formatMultiCurrencyDisplay:function(e,t){var r=this.getCurrencyPrecision(t);if(t===this.userDefaultCurrencyIsoCode)return kendo.format("{0}{1}",t,kendo.toString(e,"n"+r));var n=this.getCurrencyPrecision(this.userDefaultCurrencyIsoCode),o=this.convertCurrencyAmountToUserCurrency(e,t);return kendo.format("{0} {1} ({2} {3})",t,kendo.toString(e,"n"+r),this.userDefaultCurrencyIsoCode,kendo.toString(o,"n"+n))},formatMultiCurrencyForExport:function(e,t){if(null===e||void 0===e)return"";var r=this.getCurrencyPrecision(t);return kendo.format("{0}",kendo.toString(e,"n"+r))},getDependentPicklistValues:function(e,t,r){for(var n,o,i=0,a=0;a<e.fields.length;a++){var s=e.fields[a];if(s.name==t?(n=s,i++):s.name==r&&(o=s,i++),2==i)break}var l,u,c,d,f={},h=new sforce.Base64Binary(""),p=o.picklistValues;if("boolean"==n.type.toLowerCase()){f.getControllerLabel=function(e){return e&&"true"===(""+e).toLowerCase()?"enabled":"disabled"},f.enabled=[],f.disabled=[];for(a=0;a<p.length;a++){var y=p[a];"wAAA"===y.validFor?(f.enabled.push(y.label),f.disabled.push(y.label)):"QAAA"==y.validFor?f.enabled.push(y.label):"gAAA"==y.validFor&&f.disabled.push(y.label)}}else{f.getControllerLabel=function(e){for(var t=e,r=0;r<g.length;r++)if(g[r].value==e){t=g[r].label;break}return t};var g=n.picklistValues;for(a=0;a<g.length;a++)f[g[a].label]=[];for(a=0;a<p.length;a++)for(var m=p[a],v=h.decode(m.validFor),D=0;D<g.length;D++)l=v,u=D,void 0,void 0,c=Math.floor(u/8),d=7-u%8,(Math.pow(2,d)&l.charCodeAt(c))>>d==1&&f[g[D].label].push(m.label)}return f},isCurrentDependentValueValid:function(e,t,r,n){var o=!1,i=this.getSObjectDescribe(e),a=this.getDependentPicklistValues(i,t,r)[n[t]];return void 0!==a&&null!==a&&a.forEach(function(e){e===n[r]&&(o=!0)}),o},isLightningExperienceOrSalesforce1:function(){if(this.uiThemeDisplayed&&("theme4d"===this.uiThemeDisplayed.toLowerCase()||"theme4t"===this.uiThemeDisplayed.toLowerCase()))return!0;if("undefined"!=typeof sforce&&sforce&&sforce.one)return!0;var e=this.parseAsObject();if(!e)return!1;if(e.sf1||e.isLightningUI)return!0;if(kendo&&kendo.support&&kendo.support.browser&&kendo.support.browser.msie&&(this.isLightningExperiencePreferred=!1),null!==this.isLightningExperiencePreferred)return this.isLightningExperiencePreferred;if(this.userId)try{var t=this.query("SELECT Id, UserPreferencesLightningExperiencePreferred FROM User WHERE Id = '{0}' LIMIT 1",this.userId)[0].UserPreferencesLightningExperiencePreferred;return this.isLightningExperiencePreferred="true"===t,this.isLightningExperiencePreferred}catch(e){}return!1},getLicensedPackages:function(e,t){if(void 0===crmc.licensedPackageCache)return this.executeRemoteAction("getLicensedPackages",[e],function(e,r){crmc.licensedPackageCache=e,t(e,r)});t(crmc.licensedPackageCache,{status:!0})},getPicklistLabelByApiName:function(e,t){var r=t&&t.filter(function(t){return t.value===e})[0];return r&&r.label},getPicklistValueFactory:function(e){var t,r=this,n=e.fieldName,o=e.picklistValues,i=e.objectName,a=e.recordTypeInfos||[],s=e.fields||[],l="CampaignMember"==i&&"Status"==n,u=function(e){var t,n=[];if(e.hasOwnProperty("CampaignId"))t=e.CampaignId;else if(e.Id){t=sforce.connection.retrieve("CampaignId","CampaignMember",[e.Id])[0].CampaignId}if(t){var o=r.query("SELECT Label FROM CampaignMemberStatus WHERE CampaignId = '"+t+"'");Object.each(o,function(e){n.push({text:e.Label,value:e.Label})})}return n},c=[],d={transport:{read:function(e){!function(e,t,n){if(a.length>0&&!l){if(!(t.model.RecordTypeId||t.model.RecordType&&t.model.RecordType.Id)){var o;if(t.model.Id&&(o=r.query("SELECT RecordTypeId FROM {0} WHERE Id = '{1}'",i,t.model.Id)[0].RecordTypeId),!o){var s=Object.first(a,function(e){return e&&"true"===e.defaultRecordTypeMapping});o=o||(s&&s.recordTypeId?s.recordTypeId:o)}t.model.RecordTypeId=o,t.model.RecordType={Id:o}}var u=t.model.RecordTypeId||t.model.RecordType.Id,c=[];r.getDescribeLayoutByRecordType(i,u,function(o){var i=r.getPicklistsForRecordTypes(o)[u][t.field];!i||i instanceof Array||(i=[i]),i&&i.length>0&&(Object.each(i,function(t){var r=Object.first(e,function(e){return t.label===(e.label||e.text)});t.getBoolean("active")&&r&&c.push({text:t.label,value:t.value})}),e=c),"function"==typeof n&&n(e)})}else"function"==typeof n&&n(e)}(c,t,e.success)}}},f=Object.first(s,function(e){return e.name==n});return f&&f.dependentPicklist?function(e){c=[],t=e;var a,h=r.getDependentPicklistValues({fields:s},f.controllerName,n);if(l&&(o=u(e.model)),e.model.hasOwnProperty(f.controllerName)?a=e.model[f.controllerName]:e.model.isDetailView&&"function"==typeof e.model.parent&&Object.each(e.model.parent(),function(e){e.field&&e.field===f.controllerName&&(a=e[f.controllerName])}),(void 0===a||null===a)&&e.model.Id){var p=sforce.connection.retrieve(f.controllerName,i,[e.model.Id]);a=p[0][f.controllerName]}return a=h.getControllerLabel(a),Object.each(o,function(e){var t=e.label||e.text||e.value||e;h[a]&&h[a].indexOf(t)>-1&&c.push({text:t,value:e.value||e})}),d}:function(e){return c=[],t=e,l?c=u(e.model):Object.each(o,function(e){var t=e.label||e.text||e.value||e;c.push({text:t,value:e.value||e})}),d}},filterMailingStateCode:function(e,t,r){picklist=[];var n,o=this.getSObjectDescribe(r),i=this.getDependentPicklistValues({fields:o.fields},"MailingCountryCode","MailingStateCode");if(e.hasOwnProperty("MailingCountryCode")?n=e.MailingCountryCode:e.isDetailView&&"function"==typeof e.parent&&Object.each(e.parent(),function(e){e.field&&"MailingCountryCode"===e.field&&(n=e.MailingCountryCode)}),(void 0===n||null===n)&&e.Id){var a=sforce.connection.retrieve("MailingCountryCode",r,[e.Id]);n=a[0].MailingCountryCode}return n=i.getControllerLabel(n),Object.each(t,function(e){var t=e.label||e.text||e.value||e;i[n]&&i[n].indexOf(t)>-1&&picklist.push({label:t,value:e.value||e})}),picklist},getOrgType:function(){if(void 0===this.organizationType){var e=this.query("SELECT OrganizationType FROM Organization LIMIT 1");e.length>0?this.organizationType=e[0].OrganizationType:console.log("Failed to find Organization Type")}return this.organizationType},isProfessional:function(){return"Professional Edition"===this.getOrgType()}}}),n("ListButton",["sfdc","GridConstants"],function(e,t){return{getColumns:function(e){return[]},showInGrid:function(r,n,o,i){var a;try{if(void 0!==ListViewport&&void 0!==ListViewport.instances){var s=Object.first(ListViewport.instances,function(e){return!0});void 0!==s.filter&&void 0!==s.filter.id&&(a=s.filter.id)}}catch(e){}var l={object:r,filterId:void 0===a?"":a,FKName:o,FKValue:i},u=t.namespace;if(n.length>200){var c={Ids:n.join()};e.postToVFPageWithCache(u,t.VF_PAGE_NAME,l,c)}else l.Ids=n.join(),e.navigateToVFPage(u,t.VF_PAGE_NAME,l)}}}),window.polyglot={t:function(){}},GridButton=t("ListButton")}();